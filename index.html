<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ranked Tag 1v1</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-slate-950 text-slate-100">

  <div class="max-w-6xl mx-auto p-4">
    <div id="authbar" class="mb-3"></div>
  </div>

  <div class="max-w-6xl mx-auto p-4">

    <header class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between mb-6">
      <div>
        <h1 class="text-3xl font-extrabold tracking-tight">
          Ranked Tag 1v1
        </h1>
        <p class="mt-1 text-xs text-slate-500" id="heroStats">
          Updated every few minutes
        </p>
      </div>

      <nav class="flex flex-wrap gap-2 text-sm">
          <a href="#" onclick="goToMyProfile(); return false;"
             class="px-3 py-2 rounded bg-slate-900 border border-slate-700 hover:border-indigo-500">
              My profile
          </a>
          <a href="https://discord.gg/2XrGVdrCCS" target="_blank" rel="noreferrer"
             class="px-3 py-2 rounded bg-indigo-600 hover:bg-indigo-500 font-medium">
              Join Discord
          </a>
      </nav>
    </header>

    <section class="mb-8 grid gap-6 md:grid-cols-[minmax(0,1.7fr)_minmax(0,1.3fr)] items-start">
      <div>
        <h2 class="text-xl font-semibold mb-3">Search a player</h2>
        <p class="text-sm text-slate-400 mb-3">
          Search by in game name or full SteamID
        </p>
        <div class="flex flex-col sm:flex-row gap-2">
          <input
            id="search"
            class="flex-1 px-3 py-2 rounded bg-slate-900 border border-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="Search username or SteamID">
          <button
            id="go"
            class="px-4 py-2 rounded bg-indigo-600 hover:bg-indigo-500 text-sm font-medium">
            Search
          </button>
        </div>
        <p class="mt-2 text-xs text-slate-500">
          Tip: partial username works too!
        </p>
      </div>
    </section>

    <main class="grid gap-8 lg:grid-cols-[minmax(0,1.9fr)_minmax(0,1.3fr)] items-start">
      <section id="leaderboard">
        <div class="mb-3 flex flex-col md:flex-row md:items-center md:justify-between gap-3">
          <div class="flex flex-wrap items-center gap-3">
            <span id="status"
                  class="px-2 py-1 rounded bg-slate-900 border border-slate-700 text-xs md:text-sm">
              Loadingâ€¦
            </span>
            <div class="flex items-center gap-2 text-xs md:text-sm text-slate-400">
              <label for="pageSize">Page size</label>
              <select id="pageSize"
                      class="bg-slate-900 border border-slate-800 rounded px-2 py-1 text-xs md:text-sm">
                <option>100</option>
                <option>250</option>
                <option>500</option>
                <option selected>1000</option>
              </select>
            </div>
            <button
              id="refresh"
              class="hidden px-3 py-1.5 rounded bg-emerald-600 hover:bg-emerald-500 text-xs md:text-sm">
              Refresh data
            </button>
          </div>
          <div id="pager" class="flex flex-wrap items-center gap-2 text-xs md:text-sm"></div>
        </div>

        <div id="board" class="overflow-x-auto border border-slate-800 rounded bg-slate-950/60"></div>
      </section>

      <section id="recentMatches">
        <h2 class="text-lg font-semibold mb-2">Recent matches</h2>
        <p class="mb-2 text-xs text-slate-500">
          Fetched live from Supabase.
        </p>
        <div id="recent" class="grid gap-3"></div>
      </section>
    </main>

  </div>

  <script src="js/config.js"></script>
  <script src="js/app.js"></script>
  <script src="js/auth.js"></script>
</body>
</html>
